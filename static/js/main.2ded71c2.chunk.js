(this["webpackJsonpsimple-weather"]=this["webpackJsonpsimple-weather"]||[]).push([[0],{18:function(e,a,t){e.exports=t(45)},44:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(17),l=t.n(c),i=t(2),o=t(6),s=t.n(o),m=t(7),d=t(3),u=t.n(d),h=t(5),f="make-request",v="get-data",E="error";function w(e,a){switch(a.type){case f:return{loading:!0,weather:{}};case v:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,weather:a.payload.weather});case E:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:a.payload.error,weather:{}});default:return e}}var p=function(e){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("a",{href:"/",className:"navbar-brand"},r.a.createElement("i",{className:"fa fa-bolt","aria-hidden":"true"}),"Simple Weather"),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item dropdown with-arrow"},r.a.createElement("a",{className:"nav-link","data-toggle":"dropdown",id:"nav-link-dropdown-toggle"},"Forecasts",r.a.createElement("i",{className:"fa fa-angle-down ml-5","aria-hidden":"true"})),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"nav-link-dropdown-toggle"},r.a.createElement("a",{href:"#current",className:"dropdown-item"},"Current"),r.a.createElement("a",{href:"#hourly",className:"dropdown-item"},"Hourly"),r.a.createElement("a",{href:"#daily",className:"dropdown-item"},"7 Day")))))},N=function(e){var a=e.current,t=new Date;return r.a.createElement("div",{className:"card current-forecast",id:"current"},r.a.createElement("h1",null,t.getMonth()+1,"/",t.getDate(),", ",t.getFullYear()),r.a.createElement("p",{className:"weather-desc text-muted"},a.weather[0].description),r.a.createElement("div",{className:"weather-info"},"Temperature: ",Math.round(a.temp),"\xb0"),r.a.createElement("div",{className:"weather-info"},"Feels Like: ",Math.round(a.feels_like),"\xb0"),r.a.createElement("div",{className:"weather-info"},"Humidity: ",Math.round(a.humidity),"%"),r.a.createElement("div",{className:"weather-info"},"Wind Speed: ",Math.round(a.wind_speed)," mph"),r.a.createElement("div",{className:"weather-info"},"Visibility: ",Math.round(a.visibility/1e3)," miles"))},g=function(e){var a=e.hourly;return r.a.createElement("div",{className:"card hourly-forecast",id:"hourly"},r.a.createElement("h1",{className:"card-title"},"Hourly Forecast"),r.a.createElement("div",{className:"forecast-container"},a.slice(0,18).map((function(e){var a=new Date(1e3*e.dt),t=a.getHours()>=12?" pm":" am";a.setHours(a.getHours()%12);var n=a.getHours()?a.getHours():12;return r.a.createElement("div",{key:e.dt,className:"forecast"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",{className:"content-title"},n+t),r.a.createElement("div",{className:"weather-info text-muted"},e.weather[0].main),r.a.createElement("div",{className:"weather-info"},r.a.createElement("i",{className:"fa fa-thermometer-full","aria-label":"temperature"}),Math.round(e.temp),"\xb0"),r.a.createElement("div",{className:"weather-info"},r.a.createElement("i",{className:"fa fa-tint","aria-label":"humidity"})," ",Math.round(e.humidity),"%"),r.a.createElement("div",{className:"weather-info"},r.a.createElement("i",{className:"fa fa-flag","aria-label":"wind speed"})," ",Math.round(e.wind_speed)," mph")))}))))},y=function(e){var a=e.daily,t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return r.a.createElement("div",{className:"card daily-forecast",id:"daily"},r.a.createElement("h1",{className:"card-title"},"7 Day Forecast"),r.a.createElement("div",{className:"forecast-container"},a.slice(0,7).map((function(e){var a=new Date(1e3*e.dt);return r.a.createElement("div",{key:e.dt,className:"forecast"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",{className:"content-title"},t[a.getDay()]),r.a.createElement("div",{className:"text-muted"},e.weather[0].main),r.a.createElement("div",{className:"weather-info"},"Min: ",Math.round(e.temp.min),"\xb0"),r.a.createElement("div",{className:"weather-info"},"Max: ",Math.round(e.temp.max),"\xb0"),r.a.createElement("div",{className:"weather-info"},"Humidity: ",Math.round(e.humidity),"%")))}))))},b=function(e){var a=function(){var e=Object(n.useState)({lat:0,lng:0,address:{}}),a=Object(i.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(null),l=Object(i.a)(c,2),o=l[0],s=l[1],m=function(e){var a=e.coords,t=u.a.CancelToken.source();u.a.get("https://us1.locationiq.com/v1/reverse.php",{cancelToken:t.token,params:{format:"json",lat:a.latitude,lon:a.longitude,normalizeaddress:1,key:"17c8abf47bf55b"}}).then((function(e){r({lat:a.latitude,lng:a.longitude,address:e.data.address})}))},d=function(e){s(e.message)};return Object(n.useEffect)((function(){if(navigator.geolocation)return navigator.geolocation.getCurrentPosition(m,d,{enableHighAccuracy:!0}),function(){};s("Geolocation might not be supported.")}),[]),[t,o]}(),t=Object(n.useState)({exclude:"minutely"}),c=Object(i.a)(t,2),l=c[0],o=(c[1],function(e,a){var t=Object(n.useReducer)(w,{weather:{},loading:!0}),r=Object(i.a)(t,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){var t=u.a.CancelToken.source();return l({type:f}),u.a.get("https://api.openweathermap.org/data/2.5/onecall",{cancelToken:t.token,params:Object(h.a)(Object(h.a)({units:"imperial",lat:a.lat,lon:a.lng},e),{},{appid:"d2a04dea2c5f7c256bb698410096d968"})}).then((function(e){l({type:v,payload:{weather:e.data}})})).catch((function(e){u.a.isCancel(e)||l({type:E,payload:{error:e}})})),function(){t.cancel()}}),[e,a]),c}(l,a[0])),d=o.weather,b=o.loading;o.error;Object(n.useEffect)((function(){s.a.onDOMContentLoaded(),s.a.toggleDarkMode(),m.a.initialize("UA-91187449-5"),m.a.pageview(window.location.pathname+window.location.search)}),[]);var k=r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-title"},"Location Services Disabled"),r.a.createElement("p",null,"Please enable your location services in your browser."));return 0!==a[0].lat&&null==a[1]&&(k=r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",{className:"card-title"},"Weather for ",a[0].address.city+", "+a[0].address.state)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(N,{current:d.current})),r.a.createElement("div",{className:"col-lg-8"},r.a.createElement(y,{daily:d.daily}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(g,{hourly:d.hourly}))))),b&&(k=r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-title"},"Loading weather data..."))),r.a.createElement("div",{className:"page-wrapper with-navbar"},r.a.createElement(p,null),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"container-fluid"},k)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(42),t(43),t(44);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.2ded71c2.chunk.js.map